<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èƒŒæ™¯è°ƒè¯•</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            font-family: Arial, sans-serif;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            transition: background-image 0.5s ease-in-out;
            background-color: #f0f0f0;
        }
        .debug-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            margin: 20px auto;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .btn {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background: #3498db;
            color: white;
            font-size: 14px;
        }
        .btn:hover {
            background: #2980b9;
        }
        .log {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="debug-container">
        <h2>èƒŒæ™¯æ˜¾ç¤ºè°ƒè¯•å·¥å…·</h2>
        
        <button class="btn" onclick="testExternalPath()">ğŸ“ æµ‹è¯•å¤–éƒ¨SVGè·¯å¾„</button>
        <button class="btn" onclick="testEmbeddedSVG()">ğŸ¨ æµ‹è¯•å†…åµŒSVG</button>
        <button class="btn" onclick="testDirectApply()">âš¡ ç›´æ¥åº”ç”¨èƒŒæ™¯</button>
        <button class="btn" onclick="clearLogs()">ğŸ—‘ï¸ æ¸…é™¤æ—¥å¿—</button>
        
        <div id="log" class="log">è°ƒè¯•æ—¥å¿—å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...</div>
        
        <div style="margin-top: 20px;">
            <h4>å½“å‰èƒŒæ™¯çŠ¶æ€ï¼š</h4>
            <div id="status">æ£€æŸ¥ä¸­...</div>
        </div>
    </div>

    <script>
        function log(message) {
            const logDiv = document.getElementById('log')
            const timestamp = new Date().toLocaleTimeString()
            logDiv.innerHTML += `[${timestamp}] ${message}<br>`
            logDiv.scrollTop = logDiv.scrollHeight
        }
        
        function updateStatus() {
            const status = document.getElementById('status')
            const computedStyle = window.getComputedStyle(document.body)
            const bgImage = computedStyle.backgroundImage
            const bgColor = computedStyle.backgroundColor
            
            status.innerHTML = `
                <strong>èƒŒæ™¯å›¾ç‰‡:</strong> ${bgImage || 'none'}<br>
                <strong>èƒŒæ™¯é¢œè‰²:</strong> ${bgColor}<br>
                <strong>èƒŒæ™¯å°ºå¯¸:</strong> ${computedStyle.backgroundSize}<br>
                <strong>èƒŒæ™¯ä½ç½®:</strong> ${computedStyle.backgroundPosition}
            `
        }
        
        function testExternalPath() {
            log('å¼€å§‹æµ‹è¯•æ‰€æœ‰å¤–éƒ¨SVGè·¯å¾„...')
            
            const backgrounds = [
                { name: 'æ£®æ—é£å…‰', paths: [
                    '/images/heroes/forest-hero.svg',
                    './images/heroes/forest-hero.svg',
                    '../public/images/heroes/forest-hero.svg',
                    './public/images/heroes/forest-hero.svg'
                ]},
                { name: 'æ¸å˜ç¯ä¿', paths: [
                    '/images/backgrounds/gradient-eco.svg',
                    './images/backgrounds/gradient-eco.svg',
                    '../public/images/backgrounds/gradient-eco.svg',
                    './public/images/backgrounds/gradient-eco.svg'
                ]},
                { name: 'ç²’å­æ˜Ÿç©º', paths: [
                    '/images/backgrounds/particle-field.svg',
                    './images/backgrounds/particle-field.svg',
                    '../public/images/backgrounds/particle-field.svg',
                    './public/images/backgrounds/particle-field.svg'
                ]},
                { name: 'å‡ ä½•ç”Ÿæ€', paths: [
                    '/images/backgrounds/geometric-eco.svg',
                    './images/backgrounds/geometric-eco.svg',
                    '../public/images/backgrounds/geometric-eco.svg',
                    './public/images/backgrounds/geometric-eco.svg'
                ]},
                { name: 'è‡ªç„¶ç²¾å', paths: [
                    '/images/backgrounds/nature-premium.svg',
                    './images/backgrounds/nature-premium.svg',
                    '../public/images/backgrounds/nature-premium.svg',
                    './public/images/backgrounds/nature-premium.svg'
                ]}
            ]
            
            let bgIndex = 0
            
            function testNextBackground() {
                if (bgIndex >= backgrounds.length) {
                    log('âœ“ æ‰€æœ‰èƒŒæ™¯æµ‹è¯•å®Œæˆ')
                    return
                }
                
                const bg = backgrounds[bgIndex]
                let pathIndex = 0
                
                function testNextPath() {
                    if (pathIndex >= bg.paths.length) {
                        log(`âœ— ${bg.name} æ‰€æœ‰è·¯å¾„éƒ½å¤±è´¥`)
                        bgIndex++
                        setTimeout(testNextBackground, 100)
                        return
                    }
                    
                    const path = bg.paths[pathIndex]
                    log(`æµ‹è¯• ${bg.name} è·¯å¾„ ${pathIndex + 1}: ${path}`)
                    
                    const img = new Image()
                    img.onload = function() {
                        log(`âœ“ ${bg.name} è·¯å¾„ ${pathIndex + 1} æˆåŠŸ: ${path}`)
                        document.body.style.backgroundImage = `url(${path})`
                        updateStatus()
                        
                        // æµ‹è¯•æˆåŠŸï¼Œç»§ç»­ä¸‹ä¸€ä¸ªèƒŒæ™¯
                        bgIndex++
                        setTimeout(testNextBackground, 1000)
                    }
                    
                    img.onerror = function() {
                        log(`âœ— ${bg.name} è·¯å¾„ ${pathIndex + 1} å¤±è´¥: ${path}`)
                        pathIndex++
                        setTimeout(testNextPath, 100)
                    }
                    
                    img.src = path
                }
                
                testNextPath()
            }
            
            testNextBackground()
        }
        
        function testEmbeddedSVG() {
            log('å¼€å§‹æµ‹è¯•å†…åµŒSVG...')
            
            const svgData = `
                <svg width="1920" height="1080" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="testGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#f093fb;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <rect width="1920" height="1080" fill="url(#testGrad)" />
                    <circle cx="500" cy="300" r="100" fill="rgba(255,255,255,0.3)" />
                    <text x="960" y="540" font-family="Arial" font-size="48" fill="white" text-anchor="middle">æµ‹è¯•èƒŒæ™¯</text>
                </svg>
            `
            
            const encodedSvg = encodeURIComponent(svgData)
            const dataUrl = `data:image/svg+xml,${encodedSvg}`
            
            log(`åº”ç”¨å†…åµŒSVGèƒŒæ™¯...`)
            document.body.style.backgroundImage = `url(${dataUrl})`
            updateStatus()
            
            setTimeout(() => {
                log('âœ“ å†…åµŒSVGèƒŒæ™¯åº”ç”¨å®Œæˆ')
            }, 100)
        }
        
        function testDirectApply() {
            log('å¼€å§‹ç›´æ¥åº”ç”¨èƒŒæ™¯æµ‹è¯•...')
            
            // æµ‹è¯•çº¯è‰²èƒŒæ™¯
            document.body.style.backgroundImage = ''
            document.body.style.backgroundColor = '#3498db'
            log('âœ“ åº”ç”¨çº¯è‰²èƒŒæ™¯å®Œæˆ')
            updateStatus()
            
            setTimeout(() => {
                // æµ‹è¯•æ¸å˜èƒŒæ™¯
                document.body.style.backgroundImage = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
                document.body.style.backgroundColor = ''
                log('âœ“ åº”ç”¨CSSæ¸å˜èƒŒæ™¯å®Œæˆ')
                updateStatus()
            }, 1000)
            
            setTimeout(() => {
                // æµ‹è¯•å¤–éƒ¨å›¾ç‰‡
                document.body.style.backgroundImage = 'url(https://via.placeholder.com/1920x1080/667eea/ffffff?text=Test+Background)'
                log('âœ“ åº”ç”¨å¤–éƒ¨å›¾ç‰‡èƒŒæ™¯å®Œæˆ')
                updateStatus()
            }, 2000)
        }
        
        function clearLogs() {
            document.getElementById('log').innerHTML = 'æ—¥å¿—å·²æ¸…é™¤...'
        }
        
        // åˆå§‹åŒ–
        window.onload = function() {
            log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹è°ƒè¯•...')
            updateStatus()
            
            // æ¯ç§’æ›´æ–°çŠ¶æ€
            setInterval(updateStatus, 1000)
        }
    </script>
</body>
</html>